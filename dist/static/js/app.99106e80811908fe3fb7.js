webpackJsonp([1],{0:function(e,t){},"04pQ":function(e,t,a){"use strict";var r={name:"vue-particles",props:{color:{type:String,default:"#dedede"},particleOpacity:{type:Number,default:.7},particlesNumber:{type:Number,default:80},shapeType:{type:String,default:"circle"},particleSize:{type:Number,default:4},linesColor:{type:String,default:"#dedede"},linesWidth:{type:Number,default:1},lineLinked:{type:Boolean,default:!0},lineOpacity:{type:Number,default:.4},linesDistance:{type:Number,default:150},moveSpeed:{type:Number,default:3},hoverEffect:{type:Boolean,default:!0},hoverMode:{type:String,default:"grab"},clickEffect:{type:Boolean,default:!0},clickMode:{type:String,default:"push"}},mounted:function(){var e=this;a("9B60"),this.$nextTick(function(){e.initParticleJS(e.color,e.particleOpacity,e.particlesNumber,e.shapeType,e.particleSize,e.linesColor,e.linesWidth,e.lineLinked,e.lineOpacity,e.linesDistance,e.moveSpeed,e.hoverEffect,e.hoverMode,e.clickEffect,e.clickMode)})},methods:{initParticleJS:function(e,t,a,r,o,i,s,n,l,_,c,d,p,u,m){particlesJS("particles-js",{particles:{number:{value:a,density:{enable:!0,value_area:800}},color:{value:e},shape:{type:r,stroke:{width:0,color:"#192231"},polygon:{nb_sides:5}},opacity:{value:t,random:!1,anim:{enable:!1,speed:1,opacity_min:.1,sync:!1}},size:{value:o,random:!0,anim:{enable:!1,speed:40,size_min:.1,sync:!1}},line_linked:{enable:n,distance:_,color:i,opacity:l,width:s},move:{enable:!0,speed:c,direction:"none",random:!1,straight:!1,out_mode:"out",bounce:!1,attract:{enable:!1,rotateX:600,rotateY:1200}}},interactivity:{detect_on:"canvas",events:{onhover:{enable:d,mode:p},onclick:{enable:u,mode:m},onresize:{enable:!0,density_auto:!0,density_area:400}},modes:{grab:{distance:140,line_linked:{opacity:1}},bubble:{distance:400,size:40,duration:2,opacity:8,speed:3},repulse:{distance:200,duration:.4},push:{particles_nb:4},remove:{particles_nb:2}}},retina_detect:!0})}}},o={render:function(){var e=this,t=e.$createElement;return(e._self._c||t)("div",{attrs:{id:"particles-js",color:e.color,particleOpacity:e.particleOpacity,linesColor:e.linesColor,particlesNumber:e.particlesNumber,shapeType:e.shapeType,particleSize:e.particleSize,linesWidth:e.linesWidth,lineLinked:e.lineLinked,lineOpacity:e.lineOpacity,linesDistance:e.linesDistance,moveSpeed:e.moveSpeed,hoverEffect:e.hoverEffect,hoverMode:e.hoverMode,clickEffect:e.clickEffect,clickMode:e.clickMode}})},staticRenderFns:[]},i=a("C7Lr")(r,o,!1,null,null,null);t.a=i.exports},1:function(e,t){},2:function(e,t){},3:function(e,t){},"7xIN":function(e,t){},"9B6S":function(e,t){},IAYl:function(e,t){},JI2t:function(e,t){e.exports={user:[{user_id:"1",user_name:"admin",password:"123456",function_permission:[1,2,3,4,5,6,7,8,9,10,11,12,13,14,15],user_create_time:"2020-06-27-14-00-00",user_is_delete:!1},{user_id:"2",user_name:"admin2",password:"123456",function_permission:[2,3,4,5,6,7,8,9,10,11,12,13,14,15],user_create_time:"2020-06-27-15-00-00",user_is_delete:!1},{user_id:"3",user_name:"liyinchi",password:"",function_permission:[1,2,3],user_create_time:"2020-5-28-21-25-51",user_is_delete:!1}]}},KYy6:function(e,t){},"N+ua":function(e,t){},NHnr:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=a("+RKF"),o=a("aA9S"),i=a.n(o),s=a("ZLEe"),n=a.n(s),l=a("3cXf"),_=a.n(l),c=a("84iU"),d=a.n(c),p=a("N3gQ"),u=a.n(p),m=a("DTVe"),h=a.n(m),f=(a("pt2E"),a("XX5Q"),{inject:["reload"],provide:function(){return{reload:this.reload}},name:"Home",data:function(){return{category_form:{category_id:"",category_name:"",category_create_time:"",category_is_delete:!1},category_eidt_form:{category_id:"",category_name:"",category_create_time:"",category_is_delete:!1},loading:!0,db_Select_input_name:"",tableData:[],tableData_result:[],currentPage:1,totalCount:1,pageSizes:[5,10,20,30,40,50,100],PageSize:100,isDisplay:!0,add_isDisplay:!1,edit_isDisplay:!1,formLabelWidth:"200px",isRouterAlive:!0,category_rules:{category_id:[{required:!0,message:"请输入ID",trigger:"blur"},{min:1,max:50,message:"长度在 1 到 50 个字符",trigger:"blur"}],category_name:[{required:!0,message:"请输入分类名称",trigger:"blur"},{min:2,max:500,message:"长度在 2 到 500 个字符",trigger:"blur"}]},category_options:[],view_isDisplay:!1,drawer:!1,direction:"ltr"}},methods:{Select_all_category_data:function(){this.tableData=[],this.$http.get(this.GLOBAL.server_url+this.GLOBAL.select_category).then(function(e){for(var t=0;t<e.body.msg.length;t++){var a=e.body.msg[t];!1===a.category_is_delete&&this.tableData.push(a)}this.totalCount=this.tableData.length,200===e.status&&(this.loading=!1)}).catch(function(e){console.log(e)})},search:function(){""===this.db_Select_input_name?this.Select_all_category_data():this.$http.post(this.GLOBAL.server_url+this.GLOBAL.search_category_data_condition,{category_name:this.db_Select_input_name}).then(function(e){console.log("res---"+_()(e)),this.tableData=e.body.msg,this.totalCount=n()(e.body.msg).length,console.log(this.totalCount),this.$notify({title:"搜索",message:"完成",type:"success"})}).catch(function(e){console.log(e)})},handleSizeChange:function(e){this.PageSize=e,this.currentPage=1},handleCurrentChange:function(e){this.currentPage=e},add_button:function(){this.isDisplay=!0,this.add_isDisplay=!0,this.edit_isDisplay=!1},handleView:function(e,t){this.view_isDisplay=!0,this.category_form=i()({},t),this.category_eidt_form.category_id=this.category_form.category_id,this.category_eidt_form.category_name=this.category_form.category_name,this.category_eidt_form.category_create_time=this.category_form.category_create_time},handleEdit:function(e,t){console.log(e,t.category_id),this.edit_isDisplay=!0,this.category_form=i()({},t),this.category_eidt_form.category_id=this.category_form.category_id,this.category_eidt_form.category_name=this.category_form.category_name,this.category_eidt_form.category_create_time=this.category_form.category_create_time,console.log("id",this.category_eidt_form.category_id)},handleDelete:function(e,t){var a=this;this.$confirm("此操作将永久删除, 是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){a.$http.delete(a.GLOBAL.server_url+a.GLOBAL.delete_category,{body:{category_id:t.category_id}}).then(function(e){console.log(e),200===e.status&&this.refresh_page()}).catch(function(e){console.log(e)}),a.$message({type:"success",message:"删除成功!"})}).catch(function(){a.$message({type:"info",message:"已取消删除"})})},refresh_page:function(){this.reload()},tableRowClassName:function(e){var t=e.row;e.rowIndex;return console.log(t),!0===t.category_is_delete?"failure-row":!1===t.category_is_delete?"pass-row":""},handleClose:function(e){this.$confirm("确认关闭？").then(function(t){e()}).catch(function(e){})},submit_add_form_cancel:function(){var e=this;this.$confirm("确认关闭？数据将不被保存").then(function(t){e.add_isDisplay=!1,e.edit_isDisplay=!1,e.refresh_page,done()}).catch(function(e){})},submit_add_form:function(e){var t=this;this.$refs[e].validate(function(e){if(!e)return alert("请填写完整再提交"),console.log("error submit!!"),!1;t.$confirm("此操作将新增一条记录, 是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){t.category_form.category_create_time=t.getTime(),t.$http.post(t.GLOBAL.server_url+t.GLOBAL.add_category,{category_id:t.category_form.category_id,category_name:t.category_form.category_name,category_create_time:t.category_form.category_create_time,category_is_delete:!1}).then(function(e){if(console.log(e),-1!=_()(e.body).indexOf("Duplicate")||-1!=_()(e.body).indexOf("PRIMARY"))this.$notify({title:"失败",message:"文件编号重复",type:"error"});else switch(e.body.code){case 202:this.$notify({title:"重复",message:"ID已存在",type:"error"});break;default:this.$notify({title:"新增",message:"成功",type:"success"})}}).catch(function(e){console.log(e)})}).catch(function(){t.$message({type:"info",message:"已取消新增"})})})},submit_edit_form:function(e){var t=this;this.$refs[e].validate(function(e){if(!e)return alert("请填写完整再提交"),console.log("error submit!!"),!1;t.$confirm("此操作将更新记录, 是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){t.$http.put(t.GLOBAL.server_url+t.GLOBAL.update_category,{category_id:t.category_eidt_form.category_id,category_name:t.category_eidt_form.category_name,category_create_time:t.category_eidt_form.category_create_time,category_is_delete:!1}).then(function(e){console.log(e),this.$notify({title:"保存",message:"成功",type:"success"})}).catch(function(e){console.log(e),this.$notify({title:"失败",message:"错误内容："+e,type:"error"})})}).catch(function(){t.$message({type:"info",message:"已取消"})})})},exportExcel:function(){var e=h.a.utils.table_to_book(document.querySelector("#out-table")),t=h.a.write(e,{bookType:"xlsx",bookSST:!0,type:"array"});try{u.a.saveAs(new Blob([t],{type:"application/octet-stream"}),"产品原型分类.xlsx"),this.$notify({title:"导出",message:"请选择保存位置",type:"success"})}catch(e){"undefined"!=typeof console&&console.log(e,t)}return t},resetDateFilter:function(){this.$refs.filterTable.clearFilter("date")},clearFilter:function(){this.$refs.filterTable.clearFilter()},formatter:function(e,t){return e.address},filterTag:function(e,t){return t.tag===e},filterHandler:function(e,t,a){return t[a.property]===e},getTime:function(){var e=new Date;return e.getFullYear()+"-"+e.getMonth()+"-"+e.getDate()+"-"+e.getHours()+"-"+e.getMinutes()+"-"+e.getSeconds()}},watch:{},computed:{is_show_category_add:function(){return this.$store.getters.category_add},is_show_category_edit:function(){return this.$store.getters.category_edit},is_show_category_search:function(){return this.$store.getters.category_search},is_show_category_delete:function(){return this.$store.getters.category_delete},is_show_output_category:function(){return this.$store.getters.output_category}},components:{Category:g},created:function(){this.Select_all_category_data(),null===localStorage.getItem("pagination")?(this.currentPage=1,console.log("created()且localStorage pagination为空:"+this.currentPage)):(this.currentPage=parseInt(localStorage.getItem("pagination")),console.log("created():"+this.currentPage))},beforeCreate:function(){},beforeMount:function(){},mounted:function(){},updated:function(){this.isDisplay},beforeUpdate:function(){localStorage.setItem("pagination",this.currentPage),console.log("beforeUpdate():"+this.currentPage)},beforeDestroy:function(){}}),y={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{attrs:{id:"Home"}},[a("br"),e._v(" "),a("br"),e._v(" "),a("el-breadcrumb",{attrs:{"separator-class":"el-icon-arrow-right"}},[a("el-breadcrumb-item",{attrs:{to:{path:"/"}}},[e._v("首页")]),e._v(" "),a("el-breadcrumb-item",[e._v("分类管理")])],1),e._v(" "),a("br"),e._v(" "),a("el-dialog",{attrs:{title:"新建分类",visible:e.add_isDisplay,width:"60%","before-close":e.handleClose},on:{"update:visible":function(t){e.add_isDisplay=t}}},[a("div",[a("el-form",{ref:"category_form",staticClass:"demo-ruleForm",attrs:{size:"medium",model:e.category_form,rules:e.category_rules,"label-width":"400px"}},[a("el-form-item",{attrs:{label:"ID","label-width":e.formLabelWidth,prop:"category_id"}},[a("el-input",{staticStyle:{width:"500px"},attrs:{clearable:"",maxlength:"200",id:"category_id",placeholder:"请输入ID"},model:{value:e.category_form.category_id,callback:function(t){e.$set(e.category_form,"category_id",t)},expression:"category_form.category_id"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"分类名称","label-width":e.formLabelWidth,prop:"category_name"}},[a("el-input",{staticStyle:{width:"500px"},attrs:{clearable:"",maxlength:"200",id:"category_name",placeholder:"请输入名称"},model:{value:e.category_form.category_name,callback:function(t){e.$set(e.category_form,"category_name",t)},expression:"category_form.category_name"}})],1)],1)],1),e._v(" "),a("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{attrs:{type:"primary"},on:{click:function(t){return e.submit_add_form("category_form")}}},[e._v("提交")]),e._v(" "),a("el-tooltip",{staticClass:"item",attrs:{effect:"dark",content:"确定要取消？",placement:"top"}},[a("el-button",{on:{click:e.submit_add_form_cancel}},[e._v("取 消")])],1)],1)]),e._v(" "),a("el-dialog",{attrs:{title:"编辑分类",visible:e.edit_isDisplay,width:"60%","before-close":e.handleClose},on:{"update:visible":function(t){e.edit_isDisplay=t}}},[a("div",[a("el-form",{ref:"category_eidt_form",staticClass:"demo-ruleForm",attrs:{size:"medium",model:e.category_eidt_form,rules:e.category_rules,"label-width":"400px"}},[a("el-form-item",{attrs:{label:"ID","label-width":e.formLabelWidth,prop:"category_id"}},[a("el-input",{staticStyle:{width:"500px"},attrs:{clearable:"",maxlength:"200",id:"category_id",placeholder:"请输入ID"},model:{value:e.category_eidt_form.category_id,callback:function(t){e.$set(e.category_eidt_form,"category_id",t)},expression:"category_eidt_form.category_id"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"分类名称","label-width":e.formLabelWidth,prop:"category_name"}},[a("el-input",{staticStyle:{width:"500px"},attrs:{clearable:"",maxlength:"200",id:"category_name",placeholder:"请输入名称"},model:{value:e.category_eidt_form.category_name,callback:function(t){e.$set(e.category_eidt_form,"category_name",t)},expression:"category_eidt_form.category_name"}})],1)],1)],1),e._v(" "),a("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{attrs:{type:"primary"},on:{click:function(t){return e.submit_edit_form("category_eidt_form")}}},[e._v("提交")]),e._v(" "),a("el-tooltip",{staticClass:"item",attrs:{effect:"dark",content:"确定要取消？",placement:"top"}},[a("el-button",{on:{click:e.submit_add_form_cancel}},[e._v("取 消")])],1)],1)]),e._v(" "),a("el-drawer",{attrs:{size:"45%",id:"view",title:"查看分类",visible:e.view_isDisplay,direction:e.direction},on:{"update:visible":function(t){e.view_isDisplay=t}}},[a("div",[a("el-form",{ref:"category_eidt_form",staticClass:"demo-ruleForm",attrs:{size:"medium",model:e.category_eidt_form,rules:e.category_rules,"label-width":"400px","close-on-press-escape":""}},[a("el-form-item",{attrs:{label:"名称","label-width":e.formLabelWidth,prop:"category_name"}},[a("el-input",{staticStyle:{width:"400px"},attrs:{clearable:"",maxlength:"200",id:"category_name",placeholder:"名称"},model:{value:e.category_eidt_form.category_name,callback:function(t){e.$set(e.category_eidt_form,"category_name",t)},expression:"category_eidt_form.category_name"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"创建时间","label-width":e.formLabelWidth,prop:"category"}},[a("el-input",{staticStyle:{width:"400px"},attrs:{type:"textarea",autosize:{minRows:5,maxRows:5},maxlength:"2000",id:"category",placeholder:"创建时间"},model:{value:e.category_eidt_form.category_create_time,callback:function(t){e.$set(e.category_eidt_form,"category_create_time",t)},expression:"category_eidt_form.category_create_time"}})],1)],1)],1)]),e._v(" "),a("div",{directives:[{name:"show",rawName:"v-show",value:e.isDisplay,expression:"isDisplay"}],staticStyle:{"margin-top":"10px","margin-left":"30px","margin-bottom":"30px"},attrs:{id:"default_content"}},[a("el-input",{directives:[{name:"show",rawName:"v-show",value:e.is_show_category_search,expression:"is_show_category_search"}],staticStyle:{width:"400px","margin-right":"5px","margin-left":"5px"},attrs:{"suffix-icon":"el-icon-search",clearable:"",maxlength:"100",placeholder:"请输入分类名称"},model:{value:e.db_Select_input_name,callback:function(t){e.db_Select_input_name=t},expression:"db_Select_input_name"}}),e._v(" "),a("el-button",{directives:[{name:"show",rawName:"v-show",value:e.is_show_category_search,expression:"is_show_category_search"}],staticStyle:{"margin-right":"5px","margin-left":"5px"},attrs:{id:"Select_button",type:"primary"},on:{click:function(t){return e.search()}}},[e._v("搜索")]),e._v(" "),a("p"),e._v(" "),a("el-button",{directives:[{name:"show",rawName:"v-show",value:e.is_show_category_add,expression:"is_show_category_add"}],staticStyle:{"margin-right":"5px","margin-left":"5px"},attrs:{type:"primary"},on:{click:function(t){return e.add_button()}}},[e._v("新增分类")]),e._v(" "),a("el-button",{directives:[{name:"show",rawName:"v-show",value:e.is_show_output_category,expression:"is_show_output_category"}],staticStyle:{"margin-right":"5px","margin-left":"5px"},attrs:{id:"exportExcel",type:"warning"},on:{click:e.exportExcel}},[e._v("导出分类")]),e._v(" "),a("p"),e._v(" "),a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],ref:"multipleTable",staticStyle:{width:"100%"},attrs:{id:"out-table","row-class-name":e.tableRowClassName,border:"",size:"medium","highlight-current-row":"","element-loading-text":"拼命加载中","element-loading-spinner":"el-icon-loading","element-loading-background":"rgba(0, 0, 0, 0.8)",data:e.tableData.slice((e.currentPage-1)*e.PageSize,e.currentPage*e.PageSize),"default-sort":{prop:"category_name",order:"descending"}}},[a("el-table-column",{attrs:{type:"index",label:"序号","header-align":"center",width:"70",align:"center"}}),e._v(" "),a("el-table-column",{attrs:{prop:"category_id",sortable:"",label:"ID",width:"250",align:"center"}}),e._v(" "),a("el-table-column",{attrs:{prop:"category_name",sortable:"",label:"名称",width:"450",align:"center"}}),e._v(" "),a("el-table-column",{attrs:{prop:"category_create_time",sortable:"",label:"创建时间",width:"300",align:"center"}}),e._v(" "),a("el-table-column",{attrs:{label:"操作",align:"center",width:"270"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-tooltip",{attrs:{content:"编辑",placement:"top"}},[a("el-button",{directives:[{name:"show",rawName:"v-show",value:e.is_show_category_edit,expression:"is_show_category_edit"}],attrs:{type:"warning",icon:"el-icon-edit",circle:""},on:{click:function(a){return e.handleEdit(t.$index,t.row)}}})],1),e._v(" "),a("el-tooltip",{attrs:{content:"查看",placement:"top"}},[a("el-button",{attrs:{type:"primary",icon:"el-icon-view",circle:""},on:{click:function(a){return e.handleView(t.$index,t.row)}}})],1),e._v(" "),a("el-tooltip",{attrs:{content:"删除",placement:"top"}},[a("el-button",{directives:[{name:"show",rawName:"v-show",value:e.is_show_category_delete,expression:"is_show_category_delete"}],attrs:{type:"danger",icon:"el-icon-delete",circle:""},on:{click:function(a){return e.handleDelete(t.$index,t.row)}}})],1)]}}])})],1),e._v(" "),a("el-pagination",{attrs:{"current-page":e.currentPage,"page-sizes":e.pageSizes,"page-size":e.PageSize,layout:"total, sizes, prev, pager, next, jumper",total:e.totalCount},on:{"size-change":e.handleSizeChange,"current-change":e.handleCurrentChange}})],1)],1)},staticRenderFns:[]};var g=a("C7Lr")(f,y,!1,function(e){a("WqBQ")},"data-v-6b1dd171",null).exports,b={data:function(){return{upload:""+this.GLOBAL.server_url+this.GLOBAL.upload_zip,files_path:"",files_name:"",fileList:[]}},methods:{handleRemove:function(e,t){console.log(e,t)},handlePreview:function(e){console.log(e)},handleExceed:function(e,t){this.$message.warning("当前限制选择 1 个文件，本次选择了 "+e.length+" 个文件，共选择了 "+(e.length+t.length)+" 个文件")},beforeRemove:function(e,t){return this.$confirm("确定移除 "+e.name+"？")},handleAvatarSuccess:function(e,t){this.files_path=e.prototypeFile.path.replace("prototypeFile\\",""),this.files_name_zip=e.prototypeFile.name,this.files_name=e.prototypeFile.name.replace(".zip","");var a=[this.GLOBAL.server_url+this.files_name_zip,this.files_name,this.GLOBAL.server_url+"/"+this.files_name+"/index.html"];this.$emit("ChildByValueZipFileUpload",a),console.log(a)},handleAvatarError:function(e,t,a){alert("上传失败"+e)}}},v={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("el-upload",{staticClass:"upload-demo",staticStyle:{width:"400px"},attrs:{action:e.upload,name:"prototypeFile",accept:".zip","on-preview":e.handlePreview,"on-remove":e.handleRemove,"on-exceed":e.handleExceed,"on-success":e.handleAvatarSuccess,"on-error":e.handleAvatarError,"before-remove":e.beforeRemove,limit:1,"file-list":e.fileList}},[a("el-button",{attrs:{size:"small",type:"primary"}},[e._v("点击上传")]),e._v(" "),a("div",{staticClass:"el-upload__tip",attrs:{slot:"tip"},slot:"tip"},[e._v("\n      支持zip，建议不超过100MB\n    ")])],1)],1)},staticRenderFns:[]};var w={data:function(){return{upload:""+this.GLOBAL.server_url+this.GLOBAL.upload_zip,files_path:"",files_name:"",fileList:[]}},methods:{submitUpload:function(){this.$refs.upload.submit()},handleRemove:function(e,t){console.log(e,t)},handlePreview:function(e){console.log(e)},handleExceed:function(e,t){this.$message.warning("当前限制选择 1 个文件，本次选择了 "+e.length+" 个文件，共选择了 "+(e.length+t.length)+" 个文件")},beforeRemove:function(e,t){return this.$confirm("确定移除 "+e.name+"？")},handleAvatarSuccess:function(e,t){console.log("res---"+_()(e)),this.files_path=e.prototypeFile.path.replace("prototypeFile\\",""),this.files_name_zip=e.prototypeFile.name,this.files_name=e.prototypeFile.name.replace(".zip","");var a=[this.GLOBAL.server_url+this.files_name_zip,this.files_name,this.GLOBAL.server_url+"/"+this.files_name+"/index.html"];this.$emit("ChildByValueZipFileUploadEdit",a),console.log(a)},handleAvatarError:function(e,t,a){alert("上传失败"+e)}}},x={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("el-upload",{ref:"upload",staticClass:"upload-demo",attrs:{action:e.upload,name:"prototypeFile",accept:".zip","on-preview":e.handlePreview,"on-remove":e.handleRemove,limit:1,"file-list":e.fileList,"auto-upload":!1}},[a("el-button",{attrs:{slot:"trigger",size:"small",type:"primary"},slot:"trigger"},[e._v("选取文件")]),e._v(" "),a("el-button",{staticStyle:{"margin-left":"10px"},attrs:{size:"small",type:"success"},on:{click:e.submitUpload}},[e._v("上传到服务器")]),e._v(" "),a("div",{staticClass:"el-upload__tip",attrs:{slot:"tip"},slot:"tip"},[e._v("支持zip，建议不超过100MB")])],1)],1)},staticRenderFns:[]};var k={inject:["reload"],provide:function(){return{reload:this.reload}},name:"Home",data:function(){return{prototype_data_form:{prototype_data_id:"",prototype_data_name:"",prototype_data:"",prototype_data_category:"",prototype_data_remark:"",prototype_data_is_delete:!1},fileList:[],prototype_data_eidt_form:{prototype_data_id:"",prototype_data_name:"",prototype_data:"",prototype_data_category:"",prototype_data_remark:"",prototype_data_is_delete:!1},loading:!0,db_Select_input_name:"",tableData:[],tableData_result:[],currentPage:1,totalCount:1,pageSizes:[5,10,20,30,40,50,100],PageSize:100,isDisplay:!0,add_isDisplay:!1,edit_isDisplay:!1,formLabelWidth:"150px",isRouterAlive:!0,prototype_data_rules:{prototype_data_id:[{required:!0,message:"请输入ID",trigger:"blur"},{min:1,max:50,message:"长度在 1 到 50 个字符",trigger:"blur"}],prototype_data_name:[{required:!0,message:"请输入标题",trigger:"blur"},{min:2,max:500,message:"长度在 2 到 500 个字符",trigger:"blur"}],prototype_data:[{required:!0,message:"请上传产品原型",trigger:"blur"},{min:2,max:2e3,message:"长度在 2 到 2000 个字符",trigger:"blur"}],prototype_data_category:[{required:!0,message:"请选择当前分类",trigger:"blur"}]},category_options:[],view_isDisplay:!1,drawer:!1,direction:"ltr",UpdateDataRecordTableData:[]}},methods:{Select_all_prototype_data:function(){this.tableData=[],this.$http.get(this.GLOBAL.server_url+this.GLOBAL.select_prototype_data).then(function(e){for(var t=0;t<e.body.msg.length;t++){var a=e.body.msg[t];!1===a.prototype_data_is_delete&&this.tableData.push(a)}this.totalCount=this.tableData.length,200===e.status&&(this.loading=!1)}).catch(function(e){console.log(e)})},Select_all_category_data:function(){this.$http.get(this.GLOBAL.server_url+this.GLOBAL.select_category).then(function(e){for(var t=0;t<e.body.msg.length;t++){var a=e.body.msg[t];!1===a.category_is_delete&&this.category_options.push({value:a.category_name,text:a.category_name})}this.totalCount=e.body.msg.length,200===e.status&&(this.loading=!1)}).catch(function(e){console.log(e)})},search:function(){""===this.db_Select_input_name?this.Select_all_prototype_data():this.$http.post(this.GLOBAL.server_url+this.GLOBAL.search_prototype_data_condition,{prototype_data_name:this.db_Select_input_name}).then(function(e){console.log("res---"+_()(e)),this.tableData=e.body.msg,this.totalCount=n()(e.body.msg).length,console.log(this.totalCount),this.$notify({title:"搜索",message:"完成",type:"success"})}).catch(function(e){console.log(e)})},handleSizeChange:function(e){this.PageSize=e,this.currentPage=1},handleCurrentChange:function(e){this.currentPage=e},add_button:function(){this.isDisplay=!0,this.add_isDisplay=!0,this.edit_isDisplay=!1},handleView:function(e,t){this.view_isDisplay=!0,console.log(e,t.prototype_data_id),this.$http.post(this.GLOBAL.server_url+this.GLOBAL.id_get_update_data_record,{prototype_data_id:t.prototype_data_id}).then(function(e){console.log("res",e),this.UpdateDataRecordTableData=e.body.msg}).catch(function(e){console.log(e)})},handleEdit:function(e,t){console.log(e,t.prototype_data_id),this.edit_isDisplay=!0,this.prototype_data_form=i()({},t),this.prototype_data_eidt_form.prototype_data_id=this.prototype_data_form.prototype_data_id,this.prototype_data_eidt_form.prototype_data_name=this.prototype_data_form.prototype_data_name,this.prototype_data_eidt_form.prototype_data=this.prototype_data_form.prototype_data,this.prototype_data_eidt_form.prototype_data_category=this.prototype_data_form.prototype_data_category,this.prototype_data_eidt_form.prototype_data_remark=this.prototype_data_form.prototype_data_remark,this.prototype_data_eidt_form.prototype_data_create_time=this.prototype_data_form.prototype_data_create_time,console.log("id",this.prototype_data_eidt_form.prototype_data_id)},handleDelete:function(e,t){var a=this;this.$confirm("此操作将永久删除, 是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){a.$http.delete(a.GLOBAL.server_url+a.GLOBAL.delete_prototype_data,{body:{prototype_data_id:t.prototype_data_id}}).then(function(e){console.log(e),200===e.status&&this.refresh_page()}).catch(function(e){console.log(e)}),a.$message({type:"success",message:"删除成功!"})}).catch(function(){a.$message({type:"info",message:"已取消删除"})})},refresh_page:function(){this.reload()},tableRowClassName:function(e){var t=e.row;e.rowIndex;return console.log(t),!0===t.category_is_delete?"failure-row":!1===t.category_is_delete?"pass-row":""},handleClose:function(e){this.$confirm("确认关闭？").then(function(t){e()}).catch(function(e){})},submit_add_form_cancel:function(){var e=this;this.$confirm("确认关闭？数据将不被保存").then(function(t){e.add_isDisplay=!1,e.edit_isDisplay=!1,e.refresh_page,done()}).catch(function(e){})},submit_add_form:function(e){var t=this;this.$refs[e].validate(function(e){if(!e)return alert("请填写完整再提交"),console.log("error submit!!"),!1;t.$confirm("此操作将新增一条记录, 是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){t.prototype_data_form.prototype_data_create_time=t.getTime(),t.$http.post(t.GLOBAL.server_url+t.GLOBAL.add_prototype_data,{prototype_data_id:t.prototype_data_form.prototype_data_id,prototype_data_name:t.prototype_data_form.prototype_data_name,prototype_data:t.prototype_data_form.prototype_data,prototype_data_category:t.prototype_data_form.prototype_data_category,prototype_data_remark:t.prototype_data_form.prototype_data_remark,prototype_data_create_time:t.prototype_data_form.prototype_data_create_time,prototype_data_is_delete:!1}).then(function(e){if(console.log(e),-1!=_()(e.body).indexOf("Duplicate")||-1!=_()(e.body).indexOf("PRIMARY"))this.$notify({title:"失败",message:"文件编号重复",type:"error"});else switch(e.body.code){case 202:this.$notify({title:"重复",message:"ID已存在",type:"error"});break;default:this.$notify({title:"新增",message:"成功",type:"success"})}}).catch(function(e){console.log(e)})}).catch(function(){t.$message({type:"info",message:"已取消新增"})})})},submit_edit_form:function(e){var t=this;this.$refs[e].validate(function(e){if(!e)return alert("请填写完整再提交"),console.log("error submit!!"),!1;t.$confirm("此操作将更新记录, 是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){t.$http.put(t.GLOBAL.server_url+t.GLOBAL.update_prototype_data,{prototype_data_id:t.prototype_data_eidt_form.prototype_data_id,prototype_data_name:t.prototype_data_eidt_form.prototype_data_name,prototype_data:t.prototype_data_eidt_form.prototype_data,prototype_data_category:t.prototype_data_eidt_form.prototype_data_category,prototype_data_remark:t.prototype_data_eidt_form.prototype_data_remark,prototype_data_create_time:t.prototype_data_eidt_form.prototype_data_create_time,prototype_data_is_delete:!1}).then(function(e){console.log(e),this.$notify({title:"保存",message:"成功",type:"success"})}).catch(function(e){console.log(e),this.$notify({title:"失败",message:"错误内容："+e,type:"error"})})}).catch(function(){t.$message({type:"info",message:"已取消"})})})},exportExcel:function(){var e=h.a.utils.table_to_book(document.querySelector("#out-table")),t=h.a.write(e,{bookType:"xlsx",bookSST:!0,type:"array"});try{u.a.saveAs(new Blob([t],{type:"application/octet-stream"}),"产品原型导航.xlsx"),this.$notify({title:"导出",message:"请选择保存位置",type:"success"})}catch(e){"undefined"!=typeof console&&console.log(e,t)}return t},resetDateFilter:function(){this.$refs.filterTable.clearFilter("date")},clearFilter:function(){this.$refs.filterTable.clearFilter()},formatter:function(e,t){return e.address},filterTag:function(e,t){return t.tag===e},filterHandler:function(e,t,a){return t[a.property]===e},getTime:function(){var e=new Date;return e.getFullYear()+"-"+e.getMonth()+"-"+e.getDate()+"-"+e.getHours()+"-"+e.getMinutes()+"-"+e.getSeconds()},ChildByValueZipFileUpload:function(e){this.prototype_data_form.prototype_data=e[2],this.prototype_data_form.prototype_data_name=e[1],console.log(e)},ChildByValueZipFileUploadEdit:function(e){this.prototype_data_eidt_form.prototype_data=e[2],this.prototype_data_eidt_form.prototype_data_name=e[1],console.log(e)}},watch:{},computed:{is_show_url_add:function(){return this.$store.getters.url_add},is_show_url_edit:function(){return this.$store.getters.url_edit},is_show_url_search:function(){return this.$store.getters.url_search},is_show_url_delete:function(){return this.$store.getters.url_delete},is_show_output_url:function(){return this.$store.getters.output_url}},components:{Category:g,ZipFileUpload:a("C7Lr")(b,v,!1,function(e){a("9B6S")},null,null).exports,ZipFileUploadEdit:a("C7Lr")(w,x,!1,function(e){a("dgC/")},null,null).exports},created:function(){this.Select_all_prototype_data(),this.Select_all_category_data(),null===localStorage.getItem("pagination")?(this.currentPage=1,console.log("created()且localStorage pagination为空:"+this.currentPage)):(this.currentPage=parseInt(localStorage.getItem("pagination")),console.log("created():"+this.currentPage))},beforeCreate:function(){},beforeMount:function(){},mounted:function(){},updated:function(){this.isDisplay},beforeUpdate:function(){localStorage.setItem("pagination",this.currentPage),console.log("beforeUpdate():"+this.currentPage)},beforeDestroy:function(){}},$={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{attrs:{id:"Home"}},[a("br"),e._v(" "),a("br"),e._v(" "),a("el-breadcrumb",{attrs:{"separator-class":"el-icon-arrow-right"}},[a("el-breadcrumb-item",{attrs:{to:{path:"/"}}},[e._v("首页")]),e._v(" "),a("el-breadcrumb-item",[e._v("产品原型管理")])],1),e._v(" "),a("br"),e._v(" "),a("el-dialog",{attrs:{title:"新建产品原型",visible:e.add_isDisplay,width:"60%","before-close":e.handleClose},on:{"update:visible":function(t){e.add_isDisplay=t}}},[a("div",[a("el-form",{ref:"prototype_data_form",staticClass:"demo-ruleForm",attrs:{size:"medium",model:e.prototype_data_form,rules:e.prototype_data_rules,"label-width":"400px"}},[a("el-form-item",{attrs:{label:"ID","label-width":e.formLabelWidth,prop:"prototype_data_id"}},[a("el-input",{staticStyle:{width:"500px"},attrs:{clearable:"",maxlength:"200",id:"prototype_data_id",placeholder:"请输入ID"},model:{value:e.prototype_data_form.prototype_data_id,callback:function(t){e.$set(e.prototype_data_form,"prototype_data_id",t)},expression:"prototype_data_form.prototype_data_id"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"名称","label-width":e.formLabelWidth,prop:"prototype_data_name"}},[a("el-input",{staticStyle:{width:"500px"},attrs:{clearable:"",maxlength:"200",id:"prototype_data_name",placeholder:"请输入名称"},model:{value:e.prototype_data_form.prototype_data_name,callback:function(t){e.$set(e.prototype_data_form,"prototype_data_name",t)},expression:"prototype_data_form.prototype_data_name"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"上传压缩包","label-width":e.formLabelWidth}},[a("ZipFileUpload",{on:{ChildByValueZipFileUpload:e.ChildByValueZipFileUpload}})],1),e._v(" "),a("el-form-item",{attrs:{label:"地址","label-width":e.formLabelWidth,prop:"prototype_data"}},[a("el-input",{staticStyle:{width:"500px"},attrs:{type:"textarea",autosize:{minRows:5,maxRows:5},maxlength:"2000",id:"prototype_data",placeholder:"请输入地址"},model:{value:e.prototype_data_form.prototype_data,callback:function(t){e.$set(e.prototype_data_form,"prototype_data",t)},expression:"prototype_data_form.prototype_data"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"分类","label-width":e.formLabelWidth,prop:"prototype_data_category"}},[a("el-select",{staticStyle:{width:"500px"},attrs:{placeholder:"请选择分类"},model:{value:e.prototype_data_form.prototype_data_category,callback:function(t){e.$set(e.prototype_data_form,"prototype_data_category",t)},expression:"prototype_data_form.prototype_data_category"}},e._l(e.category_options,function(e){return a("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})}),1)],1),e._v(" "),a("el-form-item",{attrs:{label:"备注","label-width":e.formLabelWidth,prop:"prototype_data_remark"}},[a("el-input",{staticStyle:{width:"500px"},attrs:{type:"textarea",autosize:{minRows:4,maxRows:4},maxlength:"500",id:"prototype_data_remark",placeholder:"请输入备注"},model:{value:e.prototype_data_form.prototype_data_remark,callback:function(t){e.$set(e.prototype_data_form,"prototype_data_remark",t)},expression:"prototype_data_form.prototype_data_remark"}})],1)],1)],1),e._v(" "),a("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{attrs:{type:"primary"},on:{click:function(t){return e.submit_add_form("prototype_data_form")}}},[e._v("提交")]),e._v(" "),a("el-tooltip",{staticClass:"item",attrs:{effect:"dark",content:"确定要取消？",placement:"top"}},[a("el-button",{on:{click:e.submit_add_form_cancel}},[e._v("取 消")])],1)],1)]),e._v(" "),a("el-dialog",{attrs:{title:"编辑产品原型",visible:e.edit_isDisplay,width:"60%","before-close":e.handleClose},on:{"update:visible":function(t){e.edit_isDisplay=t}}},[a("div",[a("el-form",{ref:"prototype_data_eidt_form",staticClass:"demo-ruleForm",attrs:{size:"medium",model:e.prototype_data_eidt_form,rules:e.prototype_data_rules,"label-width":"500px"}},[a("el-form-item",{attrs:{label:"ID","label-width":e.formLabelWidth,prop:"prototype_data_id"}},[a("el-input",{staticStyle:{width:"500px"},attrs:{clearable:"",maxlength:"200",id:"prototype_data_id",placeholder:"请输入ID"},model:{value:e.prototype_data_eidt_form.prototype_data_id,callback:function(t){e.$set(e.prototype_data_eidt_form,"prototype_data_id",t)},expression:"prototype_data_eidt_form.prototype_data_id"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"名称","label-width":e.formLabelWidth,prop:"prototype_data_name"}},[a("el-input",{staticStyle:{width:"500px"},attrs:{clearable:"",maxlength:"200",id:"prototype_data_name",placeholder:"请输入名称"},model:{value:e.prototype_data_eidt_form.prototype_data_name,callback:function(t){e.$set(e.prototype_data_eidt_form,"prototype_data_name",t)},expression:"prototype_data_eidt_form.prototype_data_name"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"上传压缩包","label-width":e.formLabelWidth}},[a("ZipFileUploadEdit",{on:{ChildByValueZipFileUploadEdit:e.ChildByValueZipFileUploadEdit}})],1),e._v(" "),a("el-form-item",{attrs:{label:"地址","label-width":e.formLabelWidth,prop:"prototype_data"}},[a("el-input",{staticStyle:{width:"500px"},attrs:{type:"textarea",autosize:{minRows:5,maxRows:5},maxlength:"2000",id:"prototype_data",placeholder:"请输入地址"},model:{value:e.prototype_data_eidt_form.prototype_data,callback:function(t){e.$set(e.prototype_data_eidt_form,"prototype_data",t)},expression:"prototype_data_eidt_form.prototype_data"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"分类","label-width":e.formLabelWidth,prop:"prototype_data_category"}},[a("el-select",{staticStyle:{width:"500px"},attrs:{placeholder:"请选择分类"},model:{value:e.prototype_data_eidt_form.prototype_data_category,callback:function(t){e.$set(e.prototype_data_eidt_form,"prototype_data_category",t)},expression:"prototype_data_eidt_form.prototype_data_category"}},e._l(e.category_options,function(e){return a("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})}),1)],1),e._v(" "),a("el-form-item",{attrs:{label:"备注","label-width":e.formLabelWidth}},[a("el-input",{staticStyle:{width:"500px"},attrs:{type:"textarea",autosize:{minRows:5,maxRows:5},maxlength:"500",id:"prototype_data_remark",placeholder:"请输入备注"},model:{value:e.prototype_data_eidt_form.prototype_data_remark,callback:function(t){e.$set(e.prototype_data_eidt_form,"prototype_data_remark",t)},expression:"prototype_data_eidt_form.prototype_data_remark"}})],1)],1)],1),e._v(" "),a("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{attrs:{type:"primary"},on:{click:function(t){return e.submit_edit_form("prototype_data_eidt_form")}}},[e._v("提交")]),e._v(" "),a("el-tooltip",{staticClass:"item",attrs:{effect:"dark",content:"确定要取消？",placement:"top"}},[a("el-button",{on:{click:e.submit_add_form_cancel}},[e._v("取 消")])],1)],1)]),e._v(" "),a("el-drawer",{attrs:{size:"85%",id:"view",title:"上传历史记录",visible:e.view_isDisplay,direction:e.direction},on:{"update:visible":function(t){e.view_isDisplay=t}}},[a("div",[a("el-table",{staticStyle:{width:"100%"},attrs:{data:e.UpdateDataRecordTableData}},[a("el-table-column",{attrs:{prop:"prototype_data_id",label:"ID",width:"120"}}),e._v(" "),a("el-table-column",{attrs:{prop:"prototype_data_update_time",label:"编辑时间",width:"200"}}),e._v(" "),a("el-table-column",{attrs:{prop:"prototype_data_name",label:"名称",width:"200"}}),e._v(" "),a("el-table-column",{attrs:{prop:"prototype_data",label:"地址",width:"200"}}),e._v(" "),a("el-table-column",{attrs:{prop:"prototype_data_category",label:"分类",width:"150"}}),e._v(" "),a("el-table-column",{attrs:{prop:"prototype_data_remark",label:"备注"}})],1)],1)]),e._v(" "),a("div",{directives:[{name:"show",rawName:"v-show",value:e.isDisplay,expression:"isDisplay"}],staticStyle:{"margin-top":"10px","margin-left":"30px","margin-bottom":"30px"},attrs:{id:"default_content"}},[a("el-input",{directives:[{name:"show",rawName:"v-show",value:e.is_show_url_search,expression:"is_show_url_search"}],staticStyle:{width:"400px","margin-right":"5px","margin-left":"5px"},attrs:{"suffix-icon":"el-icon-search",clearable:"",maxlength:"100",placeholder:"请输入名称"},model:{value:e.db_Select_input_name,callback:function(t){e.db_Select_input_name=t},expression:"db_Select_input_name"}}),e._v(" "),a("el-button",{directives:[{name:"show",rawName:"v-show",value:e.is_show_url_search,expression:"is_show_url_search"}],staticStyle:{"margin-right":"5px","margin-left":"5px"},attrs:{id:"Select_button",type:"primary"},on:{click:function(t){return e.search()}}},[e._v("搜索")]),e._v(" "),a("p"),e._v(" "),a("el-button",{directives:[{name:"show",rawName:"v-show",value:e.is_show_url_add,expression:"is_show_url_add"}],staticStyle:{"margin-right":"5px","margin-left":"5px"},attrs:{type:"primary"},on:{click:function(t){return e.add_button()}}},[e._v("新增产品原型")]),e._v(" "),a("el-button",{directives:[{name:"show",rawName:"v-show",value:e.is_show_output_url,expression:"is_show_output_url"}],staticStyle:{"margin-right":"5px","margin-left":"5px"},attrs:{id:"exportExcel",type:"warning"},on:{click:e.exportExcel}},[e._v("导出产品原型")]),e._v(" "),a("p"),e._v(" "),a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],ref:"multipleTable",staticStyle:{width:"100%"},attrs:{id:"out-table","row-class-name":e.tableRowClassName,border:"",size:"medium","highlight-current-row":"","element-loading-text":"拼命加载中","element-loading-spinner":"el-icon-loading","element-loading-background":"rgba(0, 0, 0, 0.8)",data:e.tableData.slice((e.currentPage-1)*e.PageSize,e.currentPage*e.PageSize),"default-sort":{prop:"prototype_data_id",order:"descending"}}},[a("el-table-column",{attrs:{type:"index",label:"序号","header-align":"center",width:"70",align:"center"}}),e._v(" "),a("el-table-column",{attrs:{prop:"prototype_data_id",sortable:"",filters:e.category_options,"filter-method":e.filterHandler,label:"分类",width:"120",align:"center"}}),e._v(" "),a("el-table-column",{attrs:{prop:"prototype_data_category",sortable:"",filters:e.category_options,"filter-method":e.filterHandler,label:"分类",width:"120",align:"center"}}),e._v(" "),a("el-table-column",{attrs:{prop:"prototype_data_name",sortable:"",label:"名称",width:"250",align:"center"}}),e._v(" "),a("el-table-column",{attrs:{sortable:"",prop:"prototype_data",label:"地址",align:"center",width:"470"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-link",{staticClass:"buttonText",attrs:{type:"primary",href:t.row.prototype_data,target:"_blank"}},[e._v("\n            "+e._s(t.row.prototype_data)+"\n          ")])]}}])}),e._v(" "),a("el-table-column",{attrs:{label:"操作",align:"center",width:"170"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-tooltip",{attrs:{content:"编辑",placement:"top"}},[a("el-button",{directives:[{name:"show",rawName:"v-show",value:e.is_show_url_edit,expression:"is_show_url_edit"}],attrs:{type:"warning",icon:"el-icon-edit",circle:""},on:{click:function(a){return e.handleEdit(t.$index,t.row)}}})],1),e._v(" "),a("el-tooltip",{attrs:{content:"查看",placement:"top"}},[a("el-button",{attrs:{type:"primary",icon:"el-icon-view",circle:""},on:{click:function(a){return e.handleView(t.$index,t.row)}}})],1),e._v(" "),a("el-tooltip",{attrs:{content:"删除",placement:"top"}},[a("el-button",{directives:[{name:"show",rawName:"v-show",value:e.is_show_url_delete,expression:"is_show_url_delete"}],attrs:{type:"danger",icon:"el-icon-delete",circle:""},on:{click:function(a){return e.handleDelete(t.$index,t.row)}}})],1)]}}])}),e._v(" "),a("el-table-column",{attrs:{prop:"prototype_data_remark",sortable:"",label:"备注",width:"220",align:"center"}})],1),e._v(" "),a("el-pagination",{attrs:{"current-page":e.currentPage,"page-sizes":e.pageSizes,"page-size":e.PageSize,layout:"total, sizes, prev, pager, next, jumper",total:e.totalCount},on:{"size-change":e.handleSizeChange,"current-change":e.handleCurrentChange}})],1)],1)},staticRenderFns:[]};var S=a("C7Lr")(k,$,!1,function(e){a("qIES")},"data-v-125d29a3",null).exports,L={name:"More",provide:function(){return{reload:this.reload}},data:function(){return{isRouterAlive:!0,activeIndex:"1"}},methods:{reload:function(){this.isRouterAlive=!1,this.$nextTick(function(){this.isRouterAlive=!0})},handleSelect:function(e,t){console.log(e,t)}},props:[],computed:{},watch:{},created:function(){},beforeCreate:function(){},mounted:function(){},beforeMount:function(){},destroyed:function(){},beforeDestroy:function(){}},D={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{attrs:{id:"More"}},[a("el-menu",{staticClass:"el-menu-demo",attrs:{"default-active":e.activeIndex,mode:"horizontal"},on:{select:e.handleSelect}},[a("el-menu-item",{attrs:{index:"1"}},[a("router-link",{attrs:{to:"/Home"}},[e._v("产品原型管理")])],1),e._v(" "),a("el-menu-item",{attrs:{index:"2"}},[a("router-link",{attrs:{to:"/Category"}},[e._v("分类管理")])],1),e._v(" "),a("el-menu-item",{attrs:{index:"3"}},[a("router-link",{attrs:{to:"/Username"}},[e._v("账号管理")])],1),e._v(" "),a("el-submenu",{attrs:{index:"4"}},[a("template",{slot:"title"},[e._v("权限管理")]),e._v(" "),a("el-menu-item",{attrs:{index:"4-1"}},[a("router-link",{attrs:{to:"/Login"}},[e._v("管理员登录")])],1),e._v(" "),a("el-menu-item",{attrs:{index:"4-2"}},[a("router-link",{attrs:{to:"/Permission"}},[e._v("权限内容")])],1)],2)],1),e._v(" "),a("transition",{attrs:{name:"el-fade-in-linear"}},[e.isRouterAlive?a("router-view",{staticClass:"transition-box"}):e._e()],1)],1)},staticRenderFns:[]};var C=a("C7Lr")(L,D,!1,function(e){a("N+ua")},null,null).exports,z=(a("JI2t"),{inject:["reload"],provide:function(){return{reload:this.reload}},name:"Username",data:function(){return{user_form:{user_id:"",user_name:"",password:"",function_permission:[],user_create_time:"",user_is_delete:!1},user_eidt_form:{user_id:"",user_name:"",password:"",function_permission:[],user_create_time:"",user_is_delete:!1},function_permission_data:[{key:1,label:"新建产品原型",disabled:!1},{key:2,label:"编辑产品原型",disabled:!1},{key:3,label:"查询产品原型",disabled:!1},{key:4,label:"删除产品原型",disabled:!1},{key:5,label:"导出产品原型",disabled:!1},{key:6,label:"新建分类",disabled:!1},{key:7,label:"编辑分类",disabled:!1},{key:8,label:"查询分类",disabled:!1},{key:9,label:"删除分类",disabled:!1},{key:10,label:"导出分类",disabled:!1},{key:11,label:"新建账号",disabled:!1},{key:12,label:"编辑账号",disabled:!1},{key:13,label:"查询账号",disabled:!1},{key:14,label:"删除账号",disabled:!1},{key:15,label:"导出账号",disabled:!1}],loading:!0,db_Select_input_name:"",tableData:[],tableData_result:[],currentPage:1,totalCount:1,pageSizes:[5,10,20,30,40,50,100],PageSize:100,isDisplay:!0,add_isDisplay:!1,edit_isDisplay:!1,formLabelWidth:"110px",isRouterAlive:!0,user_rules:{user_id:[{required:!0,message:"请输入ID",trigger:"blur"},{min:1,max:50,message:"长度在 1 到 50 个字符",trigger:"blur"}],user_name:[{required:!0,message:"请输入用户账号",trigger:"blur"},{min:2,max:500,message:"长度在 2 到 500 个字符",trigger:"blur"}]},user_options:[],view_isDisplay:!1,drawer:!1,direction:"ltr"}},methods:{Select_all_user_data:function(){this.tableData=[],this.$http.get(this.GLOBAL.server_url+this.GLOBAL.select_user).then(function(e){for(var t=0;t<e.body.msg.length;t++){var a=e.body.msg[t];!1===a.user_is_delete&&this.tableData.push(a)}this.totalCount=this.tableData.length,200===e.status&&(this.loading=!1),console.log("用户总数："+this.totalCount)}).catch(function(e){console.log(e)})},search:function(){""===this.db_Select_input_name?this.Select_all_user_data():this.$http.post(this.GLOBAL.server_url+this.GLOBAL.search_user_condition,{user_name:this.db_Select_input_name}).then(function(e){this.tableData=e.body.msg,this.totalCount=n()(e.body.msg).length,console.log(this.totalCount),this.$notify({title:"搜索",message:"完成",type:"success"})}).catch(function(e){console.log(e)})},handleSizeChange:function(e){this.PageSize=e,this.currentPage=1},handleCurrentChange:function(e){this.currentPage=e},add_button:function(){this.isDisplay=!0,this.add_isDisplay=!0,this.edit_isDisplay=!1},handleView:function(e,t){this.view_isDisplay=!0,this.user_form=i()({},t),this.user_eidt_form.user_id=this.user_form.user_id,this.user_eidt_form.user_name=this.user_form.user_name,this.user_eidt_form.password=this.user_form.password,this.user_eidt_form.function_permission=this.user_form.function_permission,this.user_eidt_form.user_create_time=this.user_form.user_create_time,this.user_eidt_form.user_is_delete=this.user_form.user_is_delete},handleEdit:function(e,t){console.log(e,t.user_id),this.edit_isDisplay=!0,this.user_form=i()({},t),this.user_eidt_form.user_id=this.user_form.user_id,this.user_eidt_form.user_name=this.user_form.user_name,this.user_eidt_form.password=this.user_form.password,this.user_eidt_form.function_permission=this.user_form.function_permission,this.user_eidt_form.user_create_time=this.user_form.user_create_time,this.user_eidt_form.user_is_delete=this.user_form.user_is_delete,console.log("id",this.user_eidt_form.user_id)},debug_:function(){},handleDelete:function(e,t){var a=this;this.$confirm("此操作将永久删除, 是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){a.$http.delete(a.GLOBAL.server_url+a.GLOBAL.delete_user,{body:{user_id:t.user_id}}).then(function(e){console.log(e),200===e.status&&this.refresh_page()}).catch(function(e){console.log(e)}),a.$message({type:"success",message:"删除成功!"})}).catch(function(){a.$message({type:"info",message:"已取消删除"})})},refresh_page:function(){this.reload()},tableRowClassName:function(e){var t=e.row;e.rowIndex;return console.log(t),!0===t.user_is_delete?"failure-row":!1===t.user_is_delete?"pass-row":""},handleClose:function(e){this.$confirm("确认关闭？").then(function(t){e()}).catch(function(e){})},submit_add_form_cancel:function(){var e=this;this.$confirm("确认关闭？数据将不被保存").then(function(t){e.add_isDisplay=!1,e.edit_isDisplay=!1,e.refresh_page,done()}).catch(function(e){})},submit_add_form:function(e){var t=this;this.$refs[e].validate(function(e){if(!e)return alert("请填写完整再提交"),console.log("error submit!!"),!1;t.$confirm("此操作将新增一条记录, 是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){t.user_form.user_create_time=t.getTime(),t.$http.post(t.GLOBAL.server_url+t.GLOBAL.add_user,{user_id:t.user_form.user_id,user_name:t.user_form.user_name,password:t.user_form.password,function_permission:t.user_form.function_permission,user_create_time:t.user_form.user_create_time,user_is_delete:!1}).then(function(e){if(console.log(e),-1!=_()(e.body).indexOf("Duplicate")||-1!=_()(e.body).indexOf("PRIMARY"))this.$notify({title:"失败",message:"文件编号重复",type:"error"});else switch(e.body.code){case 202:this.$notify({title:"重复",message:"ID已存在",type:"error"});break;default:this.$notify({title:"新增",message:"成功",type:"success"})}}).catch(function(e){console.log(e)})}).catch(function(){t.$message({type:"info",message:"已取消新增"})})})},submit_edit_form:function(e){var t=this;this.$refs[e].validate(function(e){if(!e)return alert("请填写完整再提交"),console.log("error submit!!"),!1;t.$confirm("此操作将更新记录, 是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){t.$http.put(t.GLOBAL.server_url+t.GLOBAL.update_user,{user_id:t.user_eidt_form.user_id,user_name:t.user_eidt_form.user_name,password:t.user_eidt_form.password,function_permission:t.user_eidt_form.function_permission,user_create_time:t.user_eidt_form.user_create_time,user_is_delete:!1}).then(function(e){console.log(e),this.$notify({title:"保存",message:"成功",type:"success"})}).catch(function(e){console.log(e),this.$notify({title:"失败",message:"错误内容："+e,type:"error"})})}).catch(function(){t.$message({type:"info",message:"已取消"})})})},exportExcel:function(){var e=h.a.utils.table_to_book(document.querySelector("#out-table")),t=h.a.write(e,{bookType:"xlsx",bookSST:!0,type:"array"});try{u.a.saveAs(new Blob([t],{type:"application/octet-stream"}),"账号数据.xlsx"),this.$notify({title:"导出",message:"请选择保存位置",type:"success"})}catch(e){"undefined"!=typeof console&&console.log(e,t)}return t},resetDateFilter:function(){this.$refs.filterTable.clearFilter("date")},clearFilter:function(){this.$refs.filterTable.clearFilter()},filterTag:function(e,t){return t.tag===e},filterHandler:function(e,t,a){return t[a.property]===e},getTime:function(){var e=new Date;return e.getFullYear()+"-"+e.getMonth()+"-"+e.getDate()+"-"+e.getHours()+"-"+e.getMinutes()+"-"+e.getSeconds()},formatter:function(e,t){for(var a=e.function_permission,r=[],o=0;o<a.length;o++){switch(a[o]){case 1:r.push("新建产品原型,");break;case 2:r.push("编辑产品原型,");break;case 3:r.push("查询产品原型,");break;case 4:r.push("删除产品原型,");break;case 5:r.push("导出产品原型,");break;case 6:r.push("新建分类,");break;case 7:r.push("编辑分类,");break;case 8:r.push("查询分类,");break;case 9:r.push("删除分类,");break;case 10:r.push("导出分类,");break;case 11:r.push("新建账号,");break;case 12:r.push("编辑账号,");break;case 13:r.push("查询账号,");break;case 14:r.push("删除账号,");break;default:r.push("导出账号,")}}return r}},watch:{},computed:{is_show_username_add:function(){return this.$store.getters.username_add},is_show_username_edit:function(){return this.$store.getters.username_edit},is_show_username_search:function(){return this.$store.getters.username_search},is_show_username_delete:function(){return this.$store.getters.username_delete},is_show_output_username:function(){return this.$store.getters.output_username}},components:{Username:A},created:function(){this.Select_all_user_data(),null===localStorage.getItem("pagination")?(this.currentPage=1,console.log("created()且localStorage pagination为空:"+this.currentPage)):(this.currentPage=parseInt(localStorage.getItem("pagination")),console.log("created():"+this.currentPage))},beforeCreate:function(){},beforeMount:function(){},mounted:function(){},updated:function(){this.isDisplay},beforeUpdate:function(){localStorage.setItem("pagination",this.currentPage),console.log("beforeUpdate():"+this.currentPage)},beforeDestroy:function(){}}),B={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{attrs:{id:"Home"}},[a("br"),e._v(" "),a("br"),e._v(" "),a("el-breadcrumb",{attrs:{"separator-class":"el-icon-arrow-right"}},[a("el-breadcrumb-item",{attrs:{to:{path:"/"}}},[e._v("首页")]),e._v(" "),a("el-breadcrumb-item",[e._v("账号管理")])],1),e._v(" "),a("br"),e._v(" "),a("el-dialog",{attrs:{title:"新建用户",visible:e.add_isDisplay,width:"60%","before-close":e.handleClose},on:{"update:visible":function(t){e.add_isDisplay=t}}},[a("div",[a("el-form",{ref:"user_form",staticClass:"demo-ruleForm",attrs:{size:"medium",model:e.user_form,rules:e.user_rules,"label-width":"400px"}},[a("el-form-item",{attrs:{label:"ID","label-width":e.formLabelWidth,prop:"user_id"}},[a("el-input",{staticStyle:{width:"400px"},attrs:{clearable:"",maxlength:"200",id:"user_id",placeholder:"请输入ID"},model:{value:e.user_form.user_id,callback:function(t){e.$set(e.user_form,"user_id",t)},expression:"user_form.user_id"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"用户账号","label-width":e.formLabelWidth,prop:"user_name"}},[a("el-input",{staticStyle:{width:"400px"},attrs:{clearable:"",maxlength:"200",id:"user_name",placeholder:"请输入用户账号"},model:{value:e.user_form.user_name,callback:function(t){e.$set(e.user_form,"user_name",t)},expression:"user_form.user_name"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"权限","label-width":e.formLabelWidth,prop:"function_permission"}},[a("el-transfer",{attrs:{titles:["可选","已选"],filterable:"","filter-placeholder":"请输入功能权限（菜单权限）名称",data:e.function_permission_data},on:{change:e.debug_},model:{value:e.user_form.function_permission,callback:function(t){e.$set(e.user_form,"function_permission",t)},expression:"user_form.function_permission"}})],1)],1)],1),e._v(" "),a("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{attrs:{type:"primary"},on:{click:function(t){return e.submit_add_form("user_form")}}},[e._v("提交")]),e._v(" "),a("el-tooltip",{staticClass:"item",attrs:{effect:"dark",content:"确定要取消？",placement:"top"}},[a("el-button",{on:{click:e.submit_add_form_cancel}},[e._v("取 消")])],1)],1)]),e._v(" "),a("el-dialog",{attrs:{title:"编辑用户",visible:e.edit_isDisplay,width:"60%","before-close":e.handleClose},on:{"update:visible":function(t){e.edit_isDisplay=t}}},[a("div",[a("el-form",{ref:"user_eidt_form",staticClass:"demo-ruleForm",attrs:{size:"medium",model:e.user_eidt_form,rules:e.user_rules,"label-width":"400px"}},[a("el-form-item",{attrs:{label:"ID","label-width":e.formLabelWidth,prop:"user_id"}},[a("el-input",{staticStyle:{width:"400px"},attrs:{clearable:"",maxlength:"200",id:"user_id",placeholder:"请输入ID"},model:{value:e.user_eidt_form.user_id,callback:function(t){e.$set(e.user_eidt_form,"user_id",t)},expression:"user_eidt_form.user_id"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"用户账号","label-width":e.formLabelWidth,prop:"user_name"}},[a("el-input",{staticStyle:{width:"400px"},attrs:{clearable:"",maxlength:"200",id:"user_name",placeholder:"请输入用户账号"},model:{value:e.user_eidt_form.user_name,callback:function(t){e.$set(e.user_eidt_form,"user_name",t)},expression:"user_eidt_form.user_name"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"权限","label-width":e.formLabelWidth,prop:"function_permission"}},[a("el-transfer",{attrs:{titles:["可选","已选"],filterable:"","filter-placeholder":"请输入功能权限（菜单权限）名称",data:e.function_permission_data},on:{change:e.debug_},model:{value:e.user_eidt_form.function_permission,callback:function(t){e.$set(e.user_eidt_form,"function_permission",t)},expression:"user_eidt_form.function_permission"}})],1)],1)],1),e._v(" "),a("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{attrs:{type:"primary"},on:{click:function(t){return e.submit_edit_form("user_eidt_form")}}},[e._v("提交")]),e._v(" "),a("el-tooltip",{staticClass:"item",attrs:{effect:"dark",content:"确定要取消？",placement:"top"}},[a("el-button",{on:{click:e.submit_add_form_cancel}},[e._v("取 消")])],1)],1)]),e._v(" "),a("el-drawer",{attrs:{size:"45%",id:"view",title:"查看用户",visible:e.view_isDisplay,direction:e.direction},on:{"update:visible":function(t){e.view_isDisplay=t}}},[a("div",[a("el-form",{ref:"user_eidt_form",staticClass:"demo-ruleForm",attrs:{size:"medium",model:e.user_eidt_form,rules:e.user_rules,"label-width":"400px","close-on-press-escape":""}},[a("el-form-item",{attrs:{label:"用户账号","label-width":e.formLabelWidth,prop:"user_name"}},[a("el-input",{staticStyle:{width:"400px"},attrs:{clearable:"",maxlength:"200",id:"user_name",placeholder:"用户账号"},model:{value:e.user_eidt_form.user_name,callback:function(t){e.$set(e.user_eidt_form,"user_name",t)},expression:"user_eidt_form.user_name"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"创建时间","label-width":e.formLabelWidth,prop:"user"}},[a("el-input",{staticStyle:{width:"400px"},attrs:{type:"textarea",autosize:{minRows:5,maxRows:5},maxlength:"2000",id:"user_create_time",placeholder:"创建时间"},model:{value:e.user_eidt_form.user_create_time,callback:function(t){e.$set(e.user_eidt_form,"user_create_time",t)},expression:"user_eidt_form.user_create_time"}})],1)],1)],1)]),e._v(" "),a("div",{directives:[{name:"show",rawName:"v-show",value:e.isDisplay,expression:"isDisplay"}],staticStyle:{"margin-top":"10px","margin-left":"30px","margin-bottom":"30px"},attrs:{id:"default_content"}},[a("el-input",{directives:[{name:"show",rawName:"v-show",value:e.is_show_username_search,expression:"is_show_username_search"}],staticStyle:{width:"400px","margin-right":"5px","margin-left":"5px"},attrs:{"suffix-icon":"el-icon-search",clearable:"",maxlength:"100",placeholder:"请输入用户账号"},model:{value:e.db_Select_input_name,callback:function(t){e.db_Select_input_name=t},expression:"db_Select_input_name"}}),e._v(" "),a("el-button",{directives:[{name:"show",rawName:"v-show",value:e.is_show_username_search,expression:"is_show_username_search"}],staticStyle:{"margin-right":"5px","margin-left":"5px"},attrs:{id:"Select_button",type:"primary"},on:{click:function(t){return e.search()}}},[e._v("搜索")]),e._v(" "),a("p"),e._v(" "),a("el-button",{directives:[{name:"show",rawName:"v-show",value:e.is_show_username_add,expression:"is_show_username_add"}],staticStyle:{"margin-right":"5px","margin-left":"5px"},attrs:{type:"primary"},on:{click:function(t){return e.add_button()}}},[e._v("新增账号")]),e._v(" "),a("el-button",{directives:[{name:"show",rawName:"v-show",value:e.is_show_output_username,expression:"is_show_output_username"}],staticStyle:{"margin-right":"5px","margin-left":"5px"},attrs:{id:"exportExcel",type:"warning"},on:{click:e.exportExcel}},[e._v("导出用户")]),e._v(" "),a("p"),e._v(" "),a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],ref:"multipleTable",staticStyle:{width:"100%"},attrs:{id:"out-table","row-class-name":e.tableRowClassName,border:"",size:"medium","highlight-current-row":"","element-loading-text":"拼命加载中","element-loading-spinner":"el-icon-loading","element-loading-background":"rgba(0, 0, 0, 0.8)",data:e.tableData.slice((e.currentPage-1)*e.PageSize,e.currentPage*e.PageSize),"default-sort":{prop:"user_name",order:"descending"}}},[a("el-table-column",{attrs:{type:"index",label:"序号","header-align":"center",width:"70",align:"center"}}),e._v(" "),a("el-table-column",{attrs:{prop:"user_id",sortable:"",label:"ID",width:"200",align:"center"}}),e._v(" "),a("el-table-column",{attrs:{prop:"user_name",sortable:"",label:"用户账号",width:"250",align:"center"}}),e._v(" "),a("el-table-column",{attrs:{prop:"function_permission",sortable:"",label:"权限",formatter:e.formatter,width:"350",align:"center"}}),e._v(" "),a("el-table-column",{attrs:{prop:"user_create_time",sortable:"",label:"创建时间",width:"220",align:"center"}}),e._v(" "),a("el-table-column",{attrs:{label:"操作",align:"center",width:"200"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-tooltip",{attrs:{content:"编辑",placement:"top"}},[a("el-button",{directives:[{name:"show",rawName:"v-show",value:e.is_show_username_edit,expression:"is_show_username_edit"}],attrs:{type:"warning",icon:"el-icon-edit",circle:""},on:{click:function(a){return e.handleEdit(t.$index,t.row)}}})],1),e._v(" "),a("el-tooltip",{attrs:{content:"查看",placement:"top"}},[a("el-button",{attrs:{type:"primary",icon:"el-icon-view",circle:""},on:{click:function(a){return e.handleView(t.$index,t.row)}}})],1),e._v(" "),a("el-tooltip",{attrs:{content:"删除",placement:"top"}},[a("el-button",{directives:[{name:"show",rawName:"v-show",value:e.is_show_username_delete,expression:"is_show_username_delete"}],attrs:{type:"danger",icon:"el-icon-delete",circle:""},on:{click:function(a){return e.handleDelete(t.$index,t.row)}}})],1)]}}])})],1),e._v(" "),a("el-pagination",{attrs:{"current-page":e.currentPage,"page-sizes":e.pageSizes,"page-size":e.PageSize,layout:"total, sizes, prev, pager, next, jumper",total:e.totalCount},on:{"size-change":e.handleSizeChange,"current-change":e.handleCurrentChange}})],1)],1)},staticRenderFns:[]};var A=a("C7Lr")(z,B,!1,function(e){a("aIpu")},"data-v-034366b4",null).exports,P={name:"App",provide:function(){return{reload:this.reload}},data:function(){return{isRouterAlive:!0}},methods:{reload:function(){this.isRouterAlive=!1,this.$nextTick(function(){this.isRouterAlive=!0})}},beforeCreate:function(){var e=window.sessionStorage.getItem("permission").split(",");if(e.length>0)for(var t=0;t<e.length;t++){switch(e[t]){case"1":this.$store.dispatch("set_url_add",!0);break;case"2":this.$store.dispatch("set_url_edit",!0);break;case"3":this.$store.dispatch("set_url_search",!0);break;case"4":this.$store.dispatch("set_url_delete",!0);break;case"5":this.$store.dispatch("set_output_url",!0);break;case"6":this.$store.dispatch("set_category_add",!0);break;case"7":this.$store.dispatch("set_category_edit",!0);break;case"8":this.$store.dispatch("set_category_search",!0);break;case"9":this.$store.dispatch("set_category_delete",!0);break;case"10":this.$store.dispatch("set_output_category",!0);break;case"11":this.$store.dispatch("set_username_add",!0);break;case"12":this.$store.dispatch("set_username_edit",!0);break;case"13":this.$store.dispatch("set_username_search",!0);break;case"14":this.$store.dispatch("set_username_delete",!0);break;default:this.$store.dispatch("set_output_username",!0)}}},components:{Home:S,Category:g,More:C,Username:A}},O={render:function(){var e=this.$createElement,t=this._self._c||e;return t("div",{attrs:{id:"app"}},[t("div",{staticStyle:{width:"100%",height:"100%"}},[t("el-container",[t("el-header",[this._v("产品原型管理")]),this._v(" "),t("el-container",[t("el-container",[t("el-main",[t("More")],1)],1)],1)],1),this._v(" "),t("el-footer",[this._v("Copyright ©️2020  "),t("a",{attrs:{href:"https://github.com/liyinchigithub"}},[this._v("https://github.com/liyinchigithub")])]),this._v(" "),t("el-backtop",{attrs:{bottom:60}})],1)])},staticRenderFns:[]};var T=a("C7Lr")(P,O,!1,function(e){a("IAYl")},"data-v-6817d377",null).exports,F=a("bAj6"),I=a("OolZ"),R=a("fUgm");r.default.use(R.a);var N=new R.a.Store({state:{is_login:!1,url_add:!1,url_edit:!1,url_search:!0,url_delete:!1,output_url:!1,category_add:!1,category_edit:!1,category_search:!0,category_delete:!1,output_category:!1,username_add:!1,username_edit:!1,username_search:!0,username_delete:!1,output_username:!1},getters:{is_login:function(e){return e.is_login},url_add:function(e){return e.url_add},url_edit:function(e){return e.url_edit},url_search:function(e){return e.url_search},url_delete:function(e){return e.url_delete},output_url:function(e){return e.output_url},category_add:function(e){return e.category_add},category_edit:function(e){return e.category_edit},category_search:function(e){return e.category_search},category_delete:function(e){return e.category_delete},output_category:function(e){return e.output_category},username_add:function(e){return e.username_add},username_edit:function(e){return e.username_edit},username_search:function(e){return e.username_search},username_delete:function(e){return e.username_delete},output_username:function(e){return e.output_username}},mutations:{set_is_login:function(e,t){e.is_login=t},set_url_add:function(e,t){e.url_add=t},set_url_edit:function(e,t){e.url_edit=t},set_url_search:function(e,t){e.url_search=t},set_url_delete:function(e,t){e.url_delete=t},set_output_url:function(e,t){e.output_url=t},set_category_add:function(e,t){e.category_add=t},set_category_edit:function(e,t){e.category_edit=t},set_category_search:function(e,t){e.category_search=t},set_category_delete:function(e,t){e.category_delete=t},set_output_category:function(e,t){e.output_category=t},set_username_add:function(e,t){e.username_add=t},set_username_edit:function(e,t){e.username_edit=t},set_username_search:function(e,t){e.username_search=t},set_username_delete:function(e,t){e.username_delete=t},set_output_username:function(e,t){e.output_username=t}},actions:{set_is_login:function(e,t){e.commit("set_is_login",t)},set_url_add:function(e,t){e.commit("set_url_add",t)},set_url_edit:function(e,t){e.commit("set_url_edit",t)},set_url_search:function(e,t){e.commit("set_url_search",t)},set_url_delete:function(e,t){e.commit("set_url_delete",t)},set_output_url:function(e,t){e.commit("set_output_url",t)},set_category_add:function(e,t){e.commit("set_category_add",t)},set_category_edit:function(e,t){e.commit("set_category_edit",t)},set_category_search:function(e,t){e.commit("set_category_search",t)},set_category_delete:function(e,t){e.commit("set_category_delete",t)},set_output_category:function(e,t){e.commit("set_output_category",t)},set_username_add:function(e,t){e.commit("set_username_add",t)},set_username_edit:function(e,t){e.commit("set_username_edit",t)},set_username_search:function(e,t){e.commit("set_username_search",t)},set_username_delete:function(e,t){e.commit("set_username_delete",t)},set_output_username:function(e,t){e.commit("set_output_username",t)}}}),E={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{attrs:{id:"Category"}},[a("br"),e._v(" "),a("br"),e._v(" "),a("el-breadcrumb",{attrs:{"separator-class":"el-icon-arrow-right"}},[a("el-breadcrumb-item",{attrs:{to:{path:"/"}}},[e._v("首页")]),e._v(" "),a("el-breadcrumb-item",[e._v("权限管理")])],1),e._v(" "),a("br"),e._v(" "),a("el-table",{staticStyle:{width:"100%"},attrs:{data:e.permission_data,border:""}},[a("el-table-column",{attrs:{prop:"key",label:"ID",width:"150"}}),e._v(" "),a("el-table-column",{attrs:{prop:"label",label:"功能权限",width:"220"}}),e._v(" "),a("el-table-column",{attrs:{prop:"disabled",label:"是否禁用",width:"150",formatter:e.formatter}})],1)],1)},staticRenderFns:[]};var G=a("C7Lr")({name:"Permission",data:function(){return{permission_data:[{key:1,label:"新建产品原型",disabled:!1},{key:2,label:"编辑产品原型",disabled:!1},{key:3,label:"查询产品原型",disabled:!1},{key:4,label:"删除产品原型",disabled:!1},{key:5,label:"导出产品原型",disabled:!1},{key:6,label:"新建分类",disabled:!1},{key:7,label:"编辑分类",disabled:!1},{key:8,label:"查询分类",disabled:!1},{key:9,label:"删除分类",disabled:!1},{key:10,label:"导出分类",disabled:!1},{key:11,label:"新建账号",disabled:!1},{key:12,label:"编辑账号",disabled:!1},{key:13,label:"查询账号",disabled:!1},{key:14,label:"删除账号",disabled:!1},{key:15,label:"导出账号",disabled:!1}]}},props:["prop_is_show","prop_category_id","prop_category_name","prop_category_create_time","prop_category_is_delete"],methods:{formatter:function(e,t){return!1===e.disabled?"启用":"禁用"}},computed:{},watch:{},created:function(){},beforeCreate:function(){},mounted:function(){},beforeMount:function(){},destroyed:function(){},beforeDestroy:function(){}},E,!1,function(e){a("KYy6")},null,null).exports,W={name:"Login",inject:["reload"],provide:function(){return{reload:this.reload}},data:function(){return{formLabelWidth:"200px",user_name:"",password:"",result:"",permission_content:[],form_data:{user_name:"",password:""},form_data_rules:{user_name:[{required:!0,message:"请输入账号",trigger:"change"},{min:1,max:100,message:"长度在 1 到 100 个字符",trigger:"blur"}],password:[{required:!0,message:"请输入用户密码",trigger:"blur"},{min:2,max:100,message:"长度在 2 到 100 个字符",trigger:"blur"}]}}},props:["prop_is_show","prop_category_id","prop_category_name","prop_category_create_time","prop_category_is_delete"],methods:{submit_form_cancel:function(){this.$confirm("确认关闭？数据将不被保存").then(function(e){done()}).catch(function(e){})},logout:function(){window.sessionStorage.clear(),window.localStorage.clear(),this.$store.dispatch("is_login",!1),this.$message({message:"退出成功,请刷新页面",type:"success"}),this.reload()},submit_form:function(e){var t=this;this.$refs[e].validate(function(e){if(!e)return alert("请填写完整再提交"),console.log("error submit!!"),!1;t.$confirm("是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){t.$http.post(t.GLOBAL.server_url+t.GLOBAL.login,{user_name:t.form_data.user_name,password:t.form_data.password}).then(function(e){if(console.log(e),"登录成功"!==e.body.msg)this.$notify({title:"失败",message:"账号或密码错误",type:"error"});else{this.$notify({title:"登录",message:"成功",type:"success"}),this.is_show_login_form=!1,this.is_show_logout_form=!0,this.$store.dispatch("set_is_login",!0);for(var t=e.body.permission,a=0;a<t.length;a++){switch(t[a]){case 1:this.$store.dispatch("set_url_add",!0);break;case 2:this.$store.dispatch("set_url_edit",!0);break;case 3:this.$store.dispatch("set_url_search",!0);break;case 4:this.$store.dispatch("set_url_delete",!0);break;case 5:this.$store.dispatch("set_output_url",!0);break;case 6:this.$store.dispatch("set_category_add",!0);break;case 7:this.$store.dispatch("set_category_edit",!0);break;case 8:this.$store.dispatch("set_category_search",!0);break;case 9:this.$store.dispatch("set_category_delete",!0);break;case 10:this.$store.dispatch("set_output_category",!0);break;case 11:this.$store.dispatch("set_username_add",!0);break;case 12:this.$store.dispatch("set_username_edit",!0);break;case 13:this.$store.dispatch("set_username_search",!0);break;case 14:this.$store.dispatch("set_username_delete",!0);break;default:this.$store.dispatch("set_output_username",!0)}window.sessionStorage.setItem("permission",e.body.permission)}}}).catch(function(e){console.log(e)})}).catch(function(){t.$message({type:"info",message:"已取消"})})})}},computed:{is_show_login_form:function(){return!0!==this.$store.getters.is_login},is_show_logout_form:function(){return!0===this.$store.getters.is_login}},watch:{},created:function(){},beforeCreate:function(){},mounted:function(){},beforeMount:function(){},beforeUpdate:function(){},updated:function(){},destroyed:function(){},beforeDestroy:function(){}},U={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{attrs:{id:"Category"}},[a("br"),e._v(" "),a("br"),e._v(" "),a("el-breadcrumb",{attrs:{"separator-class":"el-icon-arrow-right"}},[a("el-breadcrumb-item",{attrs:{to:{path:"/"}}},[e._v("首页")]),e._v(" "),a("el-breadcrumb-item",[e._v("管理员登录")])],1),e._v(" "),a("br"),e._v(" "),a("br"),e._v(" "),a("div",[a("el-form",{directives:[{name:"show",rawName:"v-show",value:e.is_show_login_form,expression:"is_show_login_form"}],ref:"form_data",staticClass:"demo-ruleForm",attrs:{size:"medium",model:e.form_data,rules:e.form_data_rules,"label-width":"400px"}},[a("el-form-item",{attrs:{label:"管理员账号：","label-width":e.formLabelWidth,prop:"user_name"}},[a("el-input",{staticStyle:{width:"300px"},attrs:{clearable:"",maxlength:"200",id:"user_name",placeholder:"请输入账号"},model:{value:e.form_data.user_name,callback:function(t){e.$set(e.form_data,"user_name",t)},expression:"form_data.user_name"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"管理员密码：","label-width":e.formLabelWidth,prop:"password"}},[a("el-input",{staticStyle:{width:"300px"},attrs:{clearable:"",maxlength:"200",id:"password",placeholder:"请输入用户密码"},model:{value:e.form_data.password,callback:function(t){e.$set(e.form_data,"password",t)},expression:"form_data.password"}})],1)],1),e._v(" "),a("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{directives:[{name:"show",rawName:"v-show",value:e.is_show_login_form,expression:"is_show_login_form"}],attrs:{type:"primary"},on:{click:function(t){return e.submit_form("form_data")}}},[e._v("登 录")]),e._v(" "),a("el-button",{directives:[{name:"show",rawName:"v-show",value:e.is_show_logout_form,expression:"is_show_logout_form"}],attrs:{type:"primary"},on:{click:function(t){return e.logout()}}},[e._v("退出登录")])],1)],1)],1)},staticRenderFns:[]};var M=a("C7Lr")(W,U,!1,function(e){a("QaN3")},null,null).exports,H=a("gU9C"),q=a.n(H),V=(a("b6Kr"),a("7xIN"),{server_url:"http://127.0.0.1:8006",select_category:"/select_category",search_category_data_condition:"/search_category_data_condition",add_category:"/add_category",update_category:"/update_category",delete_category:"/delete_category",search_prototype_data_condition:"/search_prototype_data_condition",select_prototype_data:"/select_prototype_data",add_prototype_data:"/add_prototype_data",update_prototype_data:"/update_prototype_data",delete_prototype_data:"/delete_prototype_data",select_user:"/select_user",search_user_condition:"/search_user_condition",add_user:"/add_user",update_user:"/update_user",delete_user:"/delete_user",upload_zip:"/upload/upload_zip",id_get_update_data_record:"/id_get_update_data_record",login:"/login"}),Z=a("C7Lr")(V,null,!1,null,null,null).exports,j=a("qukJ");r.default.config.productionTip=!1,r.default.use(F.a),r.default.use(I.a),r.default.use({store:N}),r.default.use(j.a),r.default.prototype.$axios=d.a,r.default.prototype.GLOBAL=Z,r.default.use(q.a,{size:"small",zIndex:3e3}),r.default.http.options.headers={"Content-Type":"application/json;charset=utf-8"};var Y=[{path:"/",component:S,meta:{keepAlive:!1}},{path:"/Home",name:"Home",component:S,meta:{keepAlive:!0}},{path:"/Category",name:"Category",component:g,meta:{keepAlive:!0}},{path:"/Username",name:"Username",component:A,meta:{keepAlive:!0}},{path:"/Permission",name:"Permission",component:G,meta:{keepAlive:!0}},{path:"/Login",name:"Login",component:M,meta:{keepAlive:!0}}],Q=new F.a({routes:Y});new r.default({router:Q,store:N,el:"#app",components:{App:T},template:"<App/>"});t.default=Q},QaN3:function(e,t){},WqBQ:function(e,t){},XX5Q:function(e,t){e.exports={prototype_data:[{prototype_data_id:"202011151021",prototype_data_name:"原型-开放平台一期-0806",prototype_data:"http://127.0.0.1:8006/原型-开放平台一期-0806/index.html",prototype_data_category:"业务线1",prototype_data_remark:"",prototype_data_create_time:"2020-06-22-10-00-00",prototype_data_is_delete:!1},{prototype_data_id:"202011151022",prototype_data_name:"原型-开放平台二期-0807",prototype_data:"http://127.0.0.1:8006/原型-开放平台二期-0807/index.html",prototype_data_category:"业务线2",prototype_data_remark:"",prototype_data_create_time:"2020-06-22-11-00-00",prototype_data_is_delete:!1},{prototype_data_id:"202011151023",prototype_data_name:"原型-开放平台三期-0808",prototype_data:"http://127.0.0.1:8006/原型-开放平台三期-0808/index.html",prototype_data_category:"业务线3",prototype_data_remark:"",prototype_data_create_time:"2020-06-27-10-00-00",prototype_data_is_delete:!1},{prototype_data_id:"202011151024",prototype_data_name:"原型-开放平台四期-0809",prototype_data:"http://127.0.0.1:8006/原型-开放平台四期-0809/index.html",prototype_data_category:"业务线4",prototype_data_remark:"",prototype_data_create_time:"2020-06-27-18-00-00",prototype_data_is_delete:!1},{prototype_data_id:"202011151025",prototype_data_name:"原型-开放平台五期-0810",prototype_data:"http://127.0.0.1:8006/原型-开放平台五期-0810/index.html",prototype_data_category:"业务线5",prototype_data_remark:"",prototype_data_create_time:"2020-5-27-16-43-19",prototype_data_is_delete:!1},{prototype_data_id:"202011151026",prototype_data_name:"原型-开放平台六期-0811",prototype_data:"http://127.0.0.1:8006/原型-开放平台六期-0811/index.html",prototype_data_category:"业务线6",prototype_data_remark:"",prototype_data_create_time:"2020-5-27-16-48-23",prototype_data_is_delete:!1},{prototype_data_id:"202011172128",prototype_data_name:"原型-开放平台七期-0812",prototype_data:"http://127.0.0.1:8006/原型-开放平台七期-0812/index.html",prototype_data_category:"业务线2",prototype_data_remark:"又更改了",prototype_data_create_time:"2020-10-17-21-29-25",prototype_data_is_delete:!1},{prototype_data_id:"202011172129",prototype_data_name:"原型-开放平台八期-0813",prototype_data:"http://127.0.0.1:8006/原型-开放平台八期-0813/index.html",prototype_data_category:"业务线1",prototype_data_remark:"又更改了",prototype_data_create_time:"2020-10-17-21-32-38",prototype_data_is_delete:!1}]}},aIpu:function(e,t){},b6Kr:function(e,t){},"dgC/":function(e,t){},pt2E:function(e,t){e.exports={category:[{category_id:"1",category_name:"业务线1",category_create_time:"2020-06-22-09-00-00",category_is_delete:!1},{category_id:"2",category_name:"业务线2",category_create_time:"2020-06-22-08-00-00",category_is_delete:!1},{category_id:"3",category_name:"业务线3",category_create_time:"2020-06-22-07-00-00",category_is_delete:!1},{category_id:"4",category_name:"业务线4",category_create_time:"2020-06-23-07-00-00",category_is_delete:!1},{category_id:"5",category_name:"业务线5",category_create_time:"2020-06-24-07-00-00",category_is_delete:!1},{category_id:"6",category_name:"业务线2",category_create_time:"2020-06-24-07-00-00",category_is_delete:!1},{category_id:"7",category_name:"业务线7",category_create_time:"2020-5-28-21-24-31",category_is_delete:!1}]}},qIES:function(e,t){}},["NHnr"]);
//# sourceMappingURL=app.99106e80811908fe3fb7.js.map